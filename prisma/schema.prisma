// å‘Šè¨´ Prisma æˆ‘å€‘ä½¿ç”¨ SQLite (è¼•é‡åŒ–è³‡æ–™åº«æª”æ¡ˆ)
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql" // ğŸ‘ˆ æ”¹æˆ postgresql
  url       = env("PRISMA_DATABASE_URL") // ğŸ‘ˆ æ”¹ç”¨ Vercel å°ˆç”¨é€£ç·šæ± 
  directUrl = env("POSTGRES_URL") // ğŸ‘ˆ æ–°å¢é€™è¡Œ (ç”¨æ–¼ Migration)
}



// 1. è¨­å®šæª” (å­˜è–ªæ°´ã€æˆ¿ç§Ÿç­‰è¨­å®š)
// å› ç‚ºæ˜¯å–®æ©Ÿç‰ˆï¼Œæˆ‘å€‘é è¨­åªæœƒç”¨ ID=1 ä¾†å­˜ä½¿ç”¨è€…çš„è¨­å®š
model Settings {
  id            Int     @id @default(1)
  totalSalary   Int     @default(32000)
  rent          Int     @default(8500)
  savingsTarget Int     @default(6200) // å„²è“„æŠ•è³‡
  riskTarget    Int     @default(3200) // âœ¨ æ–°å¢ï¼šé¢¨éšªè¦åŠƒ (é è¨­ 10%)
  fixedCost     Int     @default(3000) // å›ºå®šå¸³å–® (å±¬æ–¼ç”Ÿæ´»å¸³æˆ¶çš„æ”¯å‡º)
}

model Expense {
  id        Int      @id @default(autoincrement())
  amount    Int
  name      String
  createdAt DateTime @default(now())
}
// âœ¨ æ–°å¢ï¼šæŠ•è³‡çµ„åˆ (å­˜è‚¡ç¥¨)
model Portfolio {
  id           Int      @id @default(autoincrement())
  symbol       String   // ä»£è™Ÿ (ä¾‹å¦‚: 0050, 2330)
  shares       Int      // è‚¡æ•¸ (ä¾‹å¦‚: 1000 è‚¡)
  avgCost      Float    // å¹³å‡æˆæœ¬ (ä¾‹å¦‚: 150.5 å…ƒ)
  currentPrice Float    // ç›®å‰å¸‚åƒ¹ (æ‰‹å‹•æ›´æ–°æˆ–æ¨¡æ“¬)
  createdAt    DateTime @default(now())
}
// âœ¨ æ–°å¢ï¼šé¢¨éšªè¦åŠƒé …ç›® (ä¿éšªã€ç·Šæ€¥é å‚™é‡‘)
model RiskItem {
  id        Int      @id @default(autoincrement())
  name      String   // é …ç›®åç¨± (ä¾‹å¦‚: å¯Œé‚¦é†«ç™‚éšª, ç·Šæ€¥é å‚™é‡‘)
  amount    Int      // é‡‘é¡ (ä¿è²» or å­˜æ¬¾é‡‘é¡)
  type      String   // é¡åˆ¥ (ä¾‹å¦‚: "insurance" æˆ– "cash")
  createdAt DateTime @default(now())
}